--- 
meta: 
  dsq_thread_id: "344994689"
  _edit_last: "1"
type: post
title: "\xC3\x96zg\xC3\xBCr Hanoi kurgu belgesi"
status: publish
layout: post
published: true
tags: 
- !binary |
  QmVuaW0gacOnaW4gYsO8ecO8ayBhbWEgaW5zYW5sxLFrIGnDp2luIGvDvMOn
  w7xrIMWfZXlsZXI=

- canavARGE
- !binary |
  w5Z6Z8O8ciBIYW5vaQ==

---
<p align="center">
<img src="/blog/images/hanoicap2.png"/>
</p>

<p>
kalktı ve silkindi üşengeçliğinden.<br />
yeraltı kodlayıcı uzun bir geceye daha uyanıyordu. içindeki his yeni bir projenin doğum sancılarını anımsatır gibiydi. garip bir sıkıntı sarmıştı dört yanını. aynaya baktı, sonra döndü ve şöyle dedi:
</p>
<p>
-hanoi kuleleri...
</p>
<p>
bilinmezdi yeraltı kodlayıcının aklından geçenler. zordu anlaşılması gözlerindeki ışığın. bilinen tek şey, amacının bilgiyi her ne olursa olsun insanlarla paylaşmak olduğuydu. ona göre bilgi tüm insanlığın malıydı ve bilgi saklayanlar onun en büyük düşmanıydı. yeraltı kodlayıcının düşmanı olmak: hayatta en son isteyeceğim şey...
</p>
<p>
peki ama neydi bu hanoi kuleleri?
</p><br /><!--more--><br />
<p>
ve şöyle dedi yeraltı kodlayıcı:
</p>
<p>
- bir oyundur hanoi kuleleri, eski dostum. bilmiyor olman ne garip...
</p>
<p>
asıl garip olan kendisiydi ama bunu yüzüne söyleyip bana vereceği yanıtlardan mahrum kalmak istemedim. ben sustukça anlatmaya devam etti.
</p>
<p>
- her şey kainatın yaratılışıyla başladı. bir tapınak vardı ve 64 altın taş. kainatın sonunu getirecek 64 taş... taşlar her gün bir taş hareket ettirmek koşuluyla eski kadim ırkların en bilgili rahiplerinin korumasına verildi. bu taşlar bir kıyamet sayacı gibiydi. 2^64-1 gün sonra kıyamet kopacaktı. hangi hareketin yapılacağı yalnızca rahipler tarafından biliniyor ve bu bilgi bir sır gibi saklanıyordu. ve ben, eski dostum, bu sırrı çözeceğim.
</p>
<p>
- ama bu sırrı çözmek kainatın sonu demek değil mi?
</p>
<p>
- bu bilgi kötü insanların eline geçerse, evet, ama ben bunu yalnızca bilgiye ulaşmak için yapacağım. benim susuzluğum bilgiyedir dostum, iyi bilirsin.
</p>
<p>
- haklısın. her oyunun olduğu gibi bu oyunun da kuralları olmalı sanırım...
</p>
<p>
- "yanyana dikilmiş üç kutsal gümüş çubuk, en soldakine üstüste dizilmiş 64 altın taş, hepsi farklı büyüklükte, büyük taş altta, küçük taş üstte... bütün taşlar en sağdaki çubuğa dizilecek, büyük taş altta, küçük taş üstte. hiç bir
zaman, hiç bir büyük taş, hiç bir küçük taşın üstüne gelmeyecek." der saklı kitap. 
</p>
<p>
- anladım. ne yapacaksın? kodlayacak mısın?
</p>
<p>
- elbette eski dostum. bana yeraltı kodlayıcı derler. bir çok güçlükle karşılaşacağımı şimdiden sezebiliyorum. bu da bu işi daha zevkli kılıyor. görebiliyorum. n-1 tane taşı alacağım ve ortadaki çubuğa koyacağım. n.taşı alıp en sağdaki çubuğa koyacağım. sonra da n-1 tane taşı alıp o taşın üstüne koyacağım.
</p>
<p>
- bir seferde yalnızca bir taşı hareket ettirebileceğimizi düşünmüştüm ben.
</p>
<p>
- doğru düşünmüşsün. ben de farklı bir şey söylemiyorum dostum, yalnızca çözmeye çalıştığımız problemi genellemeye çalışıyorum. şimdi genelden özele doğru ineceğiz ya da başka bir deyişle her adımda problemi alt problemlere böleceğiz. örneğin n-1 taşı ortadaki çubuğa yerleştirmek için önce n-2 tane taşı sağdaki çubuğa yerleştirmek, (n-1). taşı ortadaki çubuğa koymak, sonra da sağdaki çubuğa koyduğumuz n-2 tane taşı ortadaki çubuğun üstüne koymak gerek.
</p>
<p>
- anlıyorum. hem de çok iyi anlıyorum yeraltı kodlayıcı. 
</p>
<p>
- buna sevindim kadim dostum. o zaman söyle bakalım bu problemi hangi kodlama
yöntemiyle çözeceğiz?
</p>
<p>
- özyineleme?
</p>
<p>
- hadi yapalım o zaman...
</p>
<p>
yeraltı kodlayıcı lambayı söndürdü ve en büyük dostunun karşısına oturdu. kısa bir aradan sonra heyecanlı tuş sesleri gelmeye başlamıştı bile.
</p>
<p>
önce çözümü sağlayan özyinelemeli fonksiyonu yazdı ve bu fonksiyon içinde taşların hareketini ekrana çizdirdi. her bir hareket arasına belli bir gecikme süresi ekledi. daha sonra bu süreyi çalışma esnasında değiştirebilmeyi istedi. yani uygulamanın aynı anda kulanıcıdan da girdi alması gerekiyordu. ancak ortada büyük bir sorun vardı. özyinelemeli fonksiyon çağrıldıktan sonra ancak çözüm bittiğinde geri dönüyordu. bu durumda aklına foksiyonu bir thread içinde çalıştırmak geldi. ama sdl, thread içinde çizim yapmaya izin vermiyordu. bu durumda çizim için ayrı bir süreç yaratmaya karar verdi. bu süreç içinde bir de thread yaratıp bir pipe aracılığı ile ilk yaratılan süreçten kullanıcıdan alınan girdileri okumaya karar verdi. bu yöntem çalıştı ancak çok karmaşık olduğu için kontrolü zordu. oluşan hataları bulmak çok uzun zaman alıyordu. bu yüzden yeni bir yöntem geliştirmenin gerekliliğine karar verdi.
</p>
<p>
çözüm için yeni bir thread yaratmaya karar verdi yeraltı kodlayıcı. ancak bu thread çizim yapmak yerine yalnızca yapılacak çizimleri bir kuyruğa yazacaktı. birincil thread içinde ise bu kuyruktaki bilgiler okunarak gerekli çizimler
yapılacaktı. düşündüğü gibi de yaptı. aldığı sonuçtan oldukça tatmin olmuştu.
</p>
<p>
eserini bir süre izledikten sonra hareketlerin kesik kesik değil canlandırılmış olması gerektiğini düşündü. çünkü bu ilk sürümde bir taşın hareketi başlangıç çubuğunun ve hedef çubuğun üzerinde olmak üzere iki adımda gösteriliyordu. aradaki geçiş hareketinin eğrisel olmasını istiyordu yeraltı kodlayıcı. bunun için y=(x^2/n)+c fonksiyonunun yardımına başvurdu. elde ettiği sonucu zevkle izlerken hayranlıkla dolu gözlerime doğru döndü ve
şöyle dedi:
</p>
<p>
- bilgi her yerdedir. elbette herkeste bir giz vardır. bize de bu gizi çözmek düşer eski dostum.
</p>
